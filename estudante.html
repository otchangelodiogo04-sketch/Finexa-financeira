<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Finexa | EducaÃ§Ã£o Financeira</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="js/auth.js" defer></script>

  <link rel="icon" href="assets/logo.png">
</head>

<body onload="carregarDashboard()"
      class="bg-[#0e0f13] text-gray-200 min-h-screen">

<header class="flex justify-between items-center px-6 py-4 bg-[#16181d]">
  <div class="flex items-center gap-2">
    <img src="assets/logo.png" class="w-8">
    <span class="font-bold">Finexa</span>
  </div>

  <button onclick="sair()" class="text-red-400">
    Sair
  </button>
</header>

<main class="max-w-6xl mx-auto px-6 py-12">

  <h1 id="titulo" class="text-3xl font-bold mb-4"></h1>
  <p id="descricao" class="text-gray-400 mb-10"></p>

  <!-- MÃ“DULOS -->
  <div id="modulos" class="grid md:grid-cols-3 gap-6"></div>

</main>

<script>
function carregarDashboard() {
  protegerPagina();

  const user = JSON.parse(localStorage.getItem("finexaUser"));
  const titulo = document.getElementById("titulo");
  const descricao = document.getElementById("descricao");
  const modulos = document.getElementById("modulos");

  if (!user) return;

  if (user.perfil === "crianca") {
    titulo.innerText = "EducaÃ§Ã£o Financeira para CrianÃ§as";
    descricao.innerText = "Aprender sobre dinheiro de forma simples, divertida e segura.";

    modulos.innerHTML = `
      ${modulo("ğŸ’° O que Ã© dinheiro", "Entenda para que serve o dinheiro com exemplos simples.")}
      ${modulo("ğŸ· Poupar Ã© legal", "Aprenda a guardar dinheiro para o futuro.")}
      ${modulo("ğŸ›’ Escolhas inteligentes", "Como escolher antes de gastar.")}
    `;
  }

  if (user.perfil === "adulto") {
    titulo.innerText = "EducaÃ§Ã£o Financeira para Adultos";
    descricao.innerText = "Organize suas finanÃ§as e tome decisÃµes mais conscientes.";

    modulos.innerHTML = `
      ${modulo("ğŸ“Š OrganizaÃ§Ã£o financeira", "Controle seus ganhos e gastos.")}
      ${modulo("ğŸ’¡ Planejamento", "Aprenda a planejar o seu dinheiro.")}
      ${modulo("ğŸ§  Mentalidade financeira", "Construa hÃ¡bitos financeiros saudÃ¡veis.")}
    `;
  }

  if (user.perfil === "pai") {
    titulo.innerText = "EducaÃ§Ã£o Financeira para Pais";
    descricao.innerText = "Ensine seus filhos e fortaleÃ§a a educaÃ§Ã£o financeira em famÃ­lia.";

    modulos.innerHTML = `
      ${modulo("ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ EducaÃ§Ã£o em famÃ­lia", "Como falar de dinheiro com crianÃ§as.")}
      ${modulo("ğŸ“š Exemplo em casa", "A importÃ¢ncia do exemplo dos pais.")}
      ${modulo("ğŸ’° Planejamento familiar", "Organize as finanÃ§as da famÃ­lia.")}
    `;
  }
}

function modulo(titulo, texto) {
  return `
    <div class="bg-[#16181d] p-6 rounded-xl hover:bg-[#1f2228] transition">
      <h2 class="text-xl font-semibold mb-2">${titulo}</h2>
      <p class="text-gray-400">${texto}</p>
    </div>
  `;
}
</script>

</body>
</html>
